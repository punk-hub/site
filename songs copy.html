<!DOCTYPE html>
<html lang="en">
<head>
    <title>Punkhub - Songs</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="assets/js/headerFooterManager.js" defer></script>
</head>
<body>
    <special-header></special-header>
    <main>
        <img src="assets/images/LogoChat.png" alt="Punkhub Logo" id="logo">
        <h1>Songs</h1>
        <p>Explore our collection of punk anthems and covers that we play at our gigs.</p>
        <table id="songsTable">
            <thead>
                <tr>
                    <th>Artist</th>
                    <th>Title</th>
                </tr>
            </thead>
            <tbody>
                <!-- Songs will be populated here by JavaScript -->
            </tbody>
        </table>
    </main>
    <special-footer></special-footer>
    <script>
        // Function to fetch and parse the CSV file
        async function loadSongs() {
            const response = await fetch('songsList.csv');
            const data = await response.text();
            const rows = data.split('\\n').slice(1); // Skip the header row

            const tableBody = document.querySelector('#songsTable tbody');
            rows.forEach(row => {
                const [song] = row.split(',');
                if (song) {
                    const [artist, title] = song.split(' - ', 2);
                    const tr = document.createElement('tr');
                    const artistTd = document.createElement('td');
                    const titleTd = document.createElement('td');
                    artistTd.textContent = artist;
                    titleTd.textContent = title;
                    tr.appendChild(artistTd);
                    tr.appendChild(titleTd);
                    tableBody.appendChild(tr);
                }
            });
        }

        // Load songs when the page loads
        window.onload = loadSongs;
    </script>
</body>
</html>